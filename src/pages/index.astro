---
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

// 组件
import BlogCard from "@/components/blog/BlogCard.astro";
import Heading from "@/components/ui/Heading.astro";
import Hero from "@/components/Hero.astro";

import Projects from "@/components/home/Projects.astro";

// 获取博客列表（如有）
const blog = await getCollection("blog", ({ data }) => !data.isDraft);
---

<Layout>
  <!-- Hero：自我介绍 -->
  <Hero>

  </Hero>
  <!-- Technology Stack -->
  <!-- What I Do Section -->
  <section class="container py-16">
    <Heading tagName="h2" tagSize="h2">My Techstack</Heading>
    
    <!-- 专业领域 -->
    <div class="mt-8">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">What I do</h3>
      <ul class="grid md:grid-cols-3 gap-6 text-gray-700">
        <li class="flex items-center gap-2">
          <span class="text-2xl">🧠</span>
          <span>Machine Learning & Deep Learning</span>
        </li>
        <li class="flex items-center gap-2">
          <span class="text-2xl">⚙️</span>
          <span>Model Deployment & MLOps</span>
        </li>
        <li class="flex items-center gap-2">
          <span class="text-2xl">📊</span>
          <span>Data Analysis & Visualization</span>
        </li>
      </ul>
    </div>

    <!-- 技术栈 -->
    <div class="mt-12 grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      
      <!-- 编程语言 -->
      <div class="bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <span class="text-2xl">💻</span>
          Languages
        </h3>
        <ul class="space-y-2 text-gray-600">
          <li>Python</li>
          <li>SQL</li>
        </ul>
      </div>

      <!-- 框架与库 -->
      <div class="bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <span class="text-2xl">🔧</span>
          Structure
        </h3>
        <ul class="space-y-2 text-gray-600">
          <li>PyTorch</li>
          <li>Llamaindex</li>
          <li>scikit-learn</li>
          <li>FastAPI</li>
          <li>LangChain</li>
        </ul>
      </div>

      <!-- Tools -->
      <div class="bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <span class="text-2xl">🛠️</span>
          Tools & DevOps
        </h3>
        <ul class="space-y-2 text-gray-600">
          <li>Docker</li>
          <li>AWS/GCP</li>
          <li>Git</li>
          <li>MLflow</li>
          <li>Jupyter</li>
        </ul>
      </div>

      <!-- 数据库与搜索 -->
      <div class="bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
          <span class="text-2xl">🗄️</span>
          Databases & Search
        </h3>
        <ul class="space-y-2 text-gray-600">
          <li>PostgreSQL</li>
          <li>FAISS</li>
          <li>Elasticsearch</li>
          <li>OpenSearch</li>
          <li>Milvus</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Recent Projects -->
  <section aria-labelledby="recent-projects" class="container rows">
    <Heading tagName="h2" tagSize="h2" id="recent-projects">
      Featured Projects
    </Heading>
    <Projects limit={3} tagName="h3" />
  </section>

<section id="connect" class="connect-section-shine" aria-label="Contact Section">
  <Heading tagName="h2" tagSize="h2">Let's Connect</Heading>
  <p class="text-gray-600 mb-4">
    Feel free to reach out via email or connect with me on GitHub/LinkedIn.
  </p>
  <ul class="flex flex-row justify-center items-center gap-6 mt-4">
    <li>
      <a href="mailto:jyang297@uottawa.ca" class="text-blue-600 underline" aria-label="Send Email">📧 Email</a>
    </li>
    <li>
      <a href="https://github.com/jyang297" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline" aria-label="GitHub Profile">🐙 GitHub</a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/jiaqi-yang-b3014424b/" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline" aria-label="LinkedIn Profile">💼 LinkedIn</a>
    </li>
  </ul>
</section>



  <!-- blog section -->
  <!-- <section aria-labelledby="recent-blog" class="container rows">
    <Heading tagName="h2" tagSize="h2" id="recent-blog">
      Latest blog blog
    </Heading>
    {
      blog.length > 0 ? (
        <div class="grid-wrapper">
          {
            blog
              .sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime())
              .slice(0, 3)
              .map((blog) => <BlogCard tagName="h3" blog={blog} />)
          }
        </div>
      ) : (
        <p class="text-gray-500 mt-4">No blog blog yet — coming soon!</p>
      )
    }
  </section> -->
</Layout>
