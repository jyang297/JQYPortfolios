---
import ThemeToggle from "@/components/ThemeToggle";

const navData = [
  {
    title: "Home",
    href: "/",
  },
  {
    title: "Blog",
    href: "/blog",
  },
  {
    title: "AI Agents",
    href: "/agents",
  },
  {
    title: "ML",
    href: "/ml",
  },
  {
    title: "Photography",
    href: "/photography",
  },
  {
    title: "Others",
    href: "/others",
  },
];

const currentPath = Astro.url.pathname;
---

<nav>
  <div class="nav-container">
    <a href="/" class="nav-logo">
      Jiaqi Yang
    </a>
    <ul class="nav-links">
      {navData.slice(1).map((item) => (
        <li>
          <a
            href={item.href}
            class={currentPath === item.href || currentPath.startsWith(item.href + '/') ? 'active' : ''}
          >
            {item.title}
          </a>
        </li>
      ))}
      <li>
        <ThemeToggle client:load />
      </li>
    </ul>
  </div>
</nav>

<style>
  .nav-links a.active {
    color: var(--color-text);
    font-weight: 600;
  }
</style>
